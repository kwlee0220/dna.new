id: etri:07

camera:
  # uri: data/2022/etri2022_07_crop.mp4
  uri: data/2021/etri_07.mp4
  sync: False

tracker:
  uri: dna.tracker.dna_deepsort
  draw_zones: True
  
  dna_deepsort:
    detector: dna.detect.yolov4
    max_age: 30
    blind_zones:
      - [[199, 467], [531, 509], [800, 460], [1136, 308], [1284, 311], [1317, 268], [1425, 273], [1399, 513],
        [1518, 587], [1673, 632], [1683, 1078], [1919, 1076], [1918, 6], [2, 6], [4, 710], [49, 711], [153, 584], [85, 526]]
    exit_zones:
      - [[210, 472], [6, 565], [4, 397], [208, 397]]
      - [[1061, 290], [1482, 293], [1484, 164], [1060, 160]]
      - [[1673, 516], [1684, 1077], [1918, 1077], [1912, 515]]
    stable_zones:
      - [[33, 708], [211, 580], [234, 483], [421, 509], [42, 781]]
      - [[1368, 512], [822, 465], [1106, 332], [1277, 338], [1327, 278], [1413, 283]]

publishing:
  min_path_length: 10
  attach_world_coordinates:
    camera_geometry: regions/etri_testbed/etri_testbed.json
    camera_index: 3
    # epsg_code: "EPSG:5186"
  # stabilization:
  #   look_ahead: 7
  #   # smoothing_factor: 1
  kafka:
    bootstrap_servers: [localhost:9092]
#   bootstrap_servers: [kafka01:9092,kafka02:9092,kafka03:9092]
    topic: 'node-tracks'