id: etri:07

camera:
  # uri: data/2021/etri_07.mp4
  # uri: data/2022/crops/etri_07_crop.mp4
  uri: data/2021/etri_07_hot.mp4
  # uri: data/2022/etri_07_hot.mp4
  # uri: data/2022/etri_074.mp4
  sync: False
  # begin_frame: 350
  # end_frame: 200

tracker:
  draw: ['tracks', 'track_zones']
  detection_min_size: [30, 30]
  max_age: 30
  track_zones:
    - [[182, 399], [182, 478], [523, 503], [799, 460], [1219, 288], [1221, 265], [1420, 265],
      [1362, 488], [1920, 620], [1920, 1080], [0, 1077], [0, 399]]
  magnifying_zones:
    - [0, 420, 640, 1060]
  stable_zones:
    - [[93, 482], [328, 667], [-25, 812], [-17, 519]]
  exit_zones:
    - [[55, 492], [7, 505], [7, 441], [103, 440], [100, 459]] # 7동 진입로
    - [175, 395, 257, 485]      # 정문 방향 출구
    - [1148, 172, 1410, 280]    # 테니스장 출구
    - [600, 913, 1918, 1080]    # 테니스장 뒷쪽 출구

publishing:
  refine_buffer_size: 60
  min_path_length: 30
  attach_world_coordinates:
    camera_geometry: regions/etri_testbed/etri_testbed.json
    camera_index: 3
  sort_by_frame_index: True
  
  plugins:
#   local_path:
#     max_path_length: 100
#   kafka:
#     bootstrap_servers: [localhost:9092]
# #   bootstrap_servers: [kafka01:9092,kafka02:9092,kafka03:9092]
#     topic: 'node-tracks'
    # zone_pipeline:
    #   zones:
    #     0: [[0, 781], [456, 498], [553, 502], [551, 712], [3, 1076]]
    #     1: [[3, 561], [66, 529], [65, 454], [2, 452]]
    #     2: [[88, 393], [184, 393], [184, 505], [88, 505]]
    #     3: [[1062, 307], [1439, 307], [1439, 417], [1062, 417]]
    #     4: [[1430, 455], [1113, 695], [575, 854], [274, 1078], [1707, 1075], [1708, 462]]
    #   motions:
    #       '01': '01'
    #       '02': '02'
    #       '10': '10'
    #       '12': '12'
    #       '20': '20'
    #       '21': '21'