id: etri:04

camera:
  uri: data/etri_04_hot.mp4
  #uri: data/2022/crops/etri_04_crop.mp4
  # uri: data/2021/etri_04.mp4
  # size: [1920, 1080]
  sync: False
  begin_frame: 2090
  # end_frame: 1000

tracker:
  # uri: dna.tracker
  draw_zones: True

  # detector: dna.detect.yolov4
  # detector: dna.detect.yolov4:score=0.1
  detector: dna.detect.yolov5:model=l6&score=0.01
  # detection_threshold: 0.35
  # metric_thresholds: [0.3, 0.55]
  n_init: 3
  max_age: 15
  blind_zones:
    - [[1194, 397], [1078, 910], [4, 921], [0, 1078], [1920, 1075], [1920, 0],
      [1189, 1], [3, 2], [0, 730], [944, 372], [952, 325], [1197, 348]]
  # exit_zones:
  #   - [[956, 372], [958, 297], [865, 297], [867, 371]]
  #   - [[1202, 410], [1206, 330], [1274, 328], [1275, 408]]
  #   - [[411, 841], [3, 694], [4, 1076], [408, 1071]]
  # stable_zones:
  #   - [[1023, 345], [1151, 359], [1020, 738], [463, 626]]

publishing:
  min_path_length: 10
  attach_world_coordinates:
    camera_geometry: conf/region_etri/etri_testbed.json
    # camera_geometry: conf/etri_camera_geom.json
    camera_index: 0
    # epsg_code: "EPSG:5186"
    # world_coords_offset: [-4,5]

  # stabilization:
  #   look_ahead: 3

  kafka:
    bootstrap_servers: [localhost:9092]
    topic: 'node-tracks'